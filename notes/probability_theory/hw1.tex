\documentclass[a4paper, 12pt]{article}
\input{prefix_probability_theory.tex}%
\input{symbols_probability_theory.tex}

\begin{document} 
\setstretch{1.15}

\begin{center}
    \Large
    \textbf{Probability Theory \rom{1} -- Homework 1}\\
    \large{Kai-Jyun Wang}
\end{center}

\begin{exercise}{1.1}
    Suppose $f$ is a measurable mapping from one measurable space 
    $S$ to another measurable space $U$. If $A$ is a measurable 
    subset of $S$, does it follow that the image $f(A)$ is a 
    measurable subset of $U$? 
\end{exercise}
\begin{solution}
    No. Consider the case where $S = U = \set{0,1}$. Define 
    the $\sigma$-algebra on $S$ to be $\S = 2^S$ and the one 
    on $U$ to be $\U = \set{\varnothing, U}$. $f$ is the identity 
    mapping, which is measurable. However, $f(\set{0}) = \set{0}\notin\U$.  
\end{solution}

\begin{exercise}{1.2}
    Let $\Omega$ be a sample space and let $I$ be an arbitrary 
    index set, which could be uncountable. 
    \begin{thmenum}
        \item For each $i\in I$, let $\F_i$ be a $\sigma$-algebra on 
        $\Omega$. Show that $\bigcap_{i\in I}\F_i$ is a 
        $\sigma$-algebra on $\Omega$. 
        \item Let $\A$ be a collection of subsets of $\Omega$. Show that 
        there is a smallest $\sigma$-algebra containing $\A$. 
    \end{thmenum}
\end{exercise}
\begin{solution}
    For (a), first note that $\varnothing\in\F_i$ for all 
    $i\in I$ and thus $\varnothing\in\cap_{i\in I}\F_i$. 
    Next, if $A\in\cap_{i\in I}\F_i$, then $A\in\F_i$ for 
    all $i\in I$. Since $\F_i$ are $\sigma$-algebras, $A^c\in\F_i$ for 
    all $i$; hence $A^c\in\cap_{i\in I}\F_i$. Finally, if 
    $\set{A_n}\subset\cap_{i\in I}\F_i$ is a countable 
    subcollection, then $\set{A_n}\subset\F_i$ for all $i$. 
    Since $\F_i$ are $\sigma$-algebras, $\cup_n A_n\in\F_i$ for 
    all $i$; hence $\cup_n A_n\in\cap_{i\in I}\F_i$. 
    Therefore, $\cap_{i\in I}\F_i$ is a $\sigma$-algebra.
    
    For (b), set $\F$ to be the intersection of all $\sigma$-algebras 
    containing $\A$. Since the power set of $\Omega$ is a $\sigma$-algebra 
    containing $\A$, $\F$ is non-empty. By (a), we know that $\F$ is 
    a $\sigma$-algebra. By definition, if $\G$ is a $\sigma$-algebra 
    containing $\A$, then $\F\subset\G$ since $\F$ is the intersection 
    of all such $\sigma$-algebras. Hence $\F$ is the smallest 
    $\sigma$-algebra containing $\A$.
\end{solution}

\begin{exercise}{1.3}
    Let $\Omega = \R$ and $\F$ be all subsets of $\R$ such that
    either $A$ or $A^c$ is countable. Define $P(A) = 0$ if $A$
    is countable and $P(A) = 1$ if uncountable. Show that 
    $(\Omega, \F, P)$ is a probability space.
\end{exercise}
\begin{solution}
    I first claim that $\F$ is a $\sigma$-algebra. Since $\varnothing$ 
    is countable, $\varnothing\in\F$. If $A\in\F$, then either $A$ 
    or $A^c$ is countable; either $A^c$ or $A = (A^c)^c$ is countable, respectively. 
    Thus $A^c\in\F$. Suppose that $\set{A_n}\subset\F$ is a countable 
    collection of sets. If all $A_n$ are countable, then $\cup_n A_n$ 
    is countable and thus in $\F$. If there is some $A_n$, say $A_1$, 
    is uncountable, then $A_1^c$ is countable. Now 
    $\pth{\cup_n A_n}^c = \cap_n A_n^c\subset A_1^c$ is countable, so 
    $\cup_n A_n\in\F$. Therefore, $\F$ forms a $\sigma$-algebra. 

    Next, I show that $P$ is a probability measure. Clearly every 
    set in $\F$ is either countable or uncountable, so $P$ is 
    well-defined and $P(A)\geq 0 = P(\varnothing)$ for all $A\in\F$ 
    since $\varnothing$ is countable. Also, $P(\Omega) = 1$ since 
    $\R$ is uncountable. Finally, suppose that $\set{A_n}\subset\F$ 
    is a countable collection of disjoint sets. If all $A_n$ are 
    countable, then $\cup_n A_n$ is countable and 
    \begin{equation*}
        P\pth{\cup_n A_n} = 0 = \sum_n 0 = \sum_n P(A_n).
    \end{equation*}
    If some $A_n$, say $A_1$, is uncountable, then $A_n$ are countable
    for all $n\neq 1$; otherwise, $\cup_{n\neq 1} A_n$ would be uncountable 
    and $A_1^c\supset\cup_{n\neq 1} A_n$ is uncountable, contradiction. Now 
    $\cup_n A_n$ is uncountable and
    \begin{equation*}
        P(\cup_n A_n) = 1 = 1 + \sum_{n\neq 1} 0 = P(A_1) + \sum_{n\neq 1} P(A_n) = \sum_n P(A_n).
    \end{equation*}
    Therefore, $P$ is a probability measure and $(\Omega, \F, P)$ 
    is a probability space.
\end{solution}

\begin{exercise}{1.4}
    Suppose $X$ and $Y$ are random variables on $(\Omega, \F, P)$ and let $A\in\F$. 
    Show that if we let $Z(\omega) = X(\omega)$ for $\omega\in A$ and 
    $Z(\omega) = Y(\omega)$ for $\omega\in A^c$, then $Z$ is a random variable.
\end{exercise}
\begin{solution}
    For any Borel set $B\subset\R$, 
    \begin{equation*}
        Z^{-1}(B) = \pth{A\cap X^{-1}(B)}\cup\pth{A^c\cap Y^{-1}(B)}.
    \end{equation*}
    Since $X$ and $Y$ are random variables, $X^{-1}(B), Y^{-1}(B)\in\F$. 
    The $\sigma$-algebra $\F$ is closed under finite intersections and 
    unions, so $Z^{-1}(B)\in\F$. $Z$ is thus a random variable. 
\end{solution}

\begin{exercise}{1.5}
    Show that if $\S = \sigma(\A)$, then $X^{-1}(\A) = \Set{X^{-1}(A)}{A\in\A}$ 
    generates $\sigma(X) = \Set{X^{-1}(B)}{B\in\S}$.
\end{exercise}
\begin{solution}
    Set
    \begin{equation*}
        \F = \Set{E\in\S}{X^{-1}(E)\in\sigma(X^{-1}(\A))}.
    \end{equation*} 
    Clearly $\varnothing\in\S$ and $X^{-1}(\varnothing) = \varnothing\in\sigma(X^{-1}(\A))$, so 
    $\varnothing\in\F$. If $E\in\F$, then $E^c\in\S$ and $X^{-1}(E^c) = (X^{-1}(E))^c\in\sigma(X^{-1}(\A))$
    since $\sigma(X^{-1}(\A))$ is a $\sigma$-algebra. Thus $E^c\in\F$. Suppose that 
    $\set{E_n}\subset\F$ is a countable collection of sets. Then $\set{E_n}\subset\S$ 
    and $\cup_n E_n\in\S$. Also, 
    \begin{equation*}
        X^{-1}(\cup_n E_n) = \cup_n X^{-1}(E_n)\in\sigma(X^{-1}(\A))
    \end{equation*}
    since $X^{-1}(E_n)\in\sigma(X^{-1}(\A))$ and $\sigma(X^{-1}(\A))$ is a 
    $\sigma$-algebra. Hence $\cup_n E_n\in\F$ and $\F$ is a $\sigma$-algebra.
    
    By the construction, $\A\subset\F\subset\S$ and we must have
    $\S = \sigma(\A)\subset\F\subset\S$; hence $\F = \S$. But by the definition
    of $\F$, $X^{-1}(\F) = \Set{X^{-1}(E)}{E\in\F}$ is a $\sigma$-algebra such 
    that $X^{-1}(\A)\subset X^{-1}(\F)\subset\sigma(X^{-1}(\A))$. Thus 
    $\sigma(X) = X^{-1}(\S) = X^{-1}(\F) = \sigma(X^{-1}(\A))$.
\end{solution}

\begin{exercise}{1.6}
    Conclude that a random variable $Y$ is measurable with respect to $\sigma(X)$ 
    if and only if $Y = f(X)$, where $f:\R\to\R$ is measurable.
\end{exercise}
\begin{solution}
    If $Y = f(X)$ for some measurable function $f:\R\to\R$, then for any Borel set 
    $B\subset\R$, $Y^{-1}(B) = X^{-1}(f^{-1}(B))\in\sigma(X)$ since $f^{-1}(B)$ is 
    also a Borel set and $X$ is $\sigma(X)$-measurable. Thus $Y$ is $\sigma(X)$-measurable. 

    Conversely, suppose that $Y$ is $\sigma(X)$-measurable. If $Y$ is simple, 
    $Y = \sum_{i=1}^n y_i\one_{A_i}$ where $A_i\in\sigma(X)$ are disjoint and 
    $y_i$ are distinct. Now $A_i = X^{-1}(B_i)$ for disjoint Borel sets $B_i$. 
    Set $f = \sum_i y_i\one_{B_i}$, which is measurable. Then 
    \begin{equation*}
        f(X) = \sum_i y_i\one_{X^{-1}(B_i)} = \sum_i y_i\one_{A_i} = Y.
    \end{equation*}

    For general measurable $Y$, there is a sequence of simple measurable functions 
    $Y_k\to Y$ pointwise. For each $k$, there is a corresponding measurable $f_k:\R\to\R$ 
    such that $Y_k = f_k(X)$. Now define $f$ to be the pointwise limit of $f_k$; 
    then $f$ is measurable and
    \begin{equation*}
        Y = \lim_{k\to\infty} Y_k = \lim_{k\to\infty} f_k(X) = f(X).
    \end{equation*}
\end{solution}

\end{document}