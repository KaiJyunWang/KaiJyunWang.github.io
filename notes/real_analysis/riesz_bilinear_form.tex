\begin{proposition}\label{prop:bd_functional_on_h}
    $\mathbb{F} = \R$ or $\C$. $T:\H\to\mathbb{F}$ is a nonzero bounded 
    linear functional. 
    \begin{thmenum}
        \item $\H = \spanby(\set{w})\oplus\ker(T)$ for $w\notin \ker(T)$.
        \item If $S,T$ are bounded linear functionals and $\ker(S) = \ker(T)$, 
        then there exists $c\in\mathbb{F}$ such that $S = cT$. 
        \item $\ker(T)$ is closed.
    \end{thmenum}
\end{proposition}
\begin{proof}
    For (a), since $T$ is nonzero, there is some $w$ such that $Tw\neq 0$. 
    For $x\in\H$, set $\alpha = Tx/Tw$ and $u = x - \alpha w$. Then 
    $x = \alpha w + u$ and 
    \begin{equation*}
        Tu = Tx - \frac{Tx}{Tw}Tw = 0.
    \end{equation*}
    Hence $u\in \ker(T)$. Also, if $v\in \spanby(\set{w})\bigcap\ker(T)$, 
    $v = cw$ and $Tv = 0$. Then $cTw = Tv = 0$; $c = 0$ and thus $v = 0$. 
    Therefore, $\spanby(\set{w})\bigcap\ker(T) = \set{0}$ and 
    $\H = \spanby(\set{w})\oplus\ker(T)$. 

    To see (b), note that if $S = 0$, $\H = \ker(S) = \ker(T)$. 
    Thus $T = 0$. If $S\neq 0$, by (a) we can write 
    $\H = \spanby(\set{w})\oplus\ker(S) = \spanby(\set{w})\oplus\ker(T)$. 
    Then for every $x\in\H$, $x = \alpha w + u$ for some $\alpha\in\mathbb{F}$ 
    and $u\in\ker(T)=\ker(S)$. Then $Tw\neq 0$ and
    \begin{equation*}
        Sx = S(\alpha w + u) = \alpha Sw = \alpha Tw\frac{Sw}{Tw} = \frac{Sw}{Tw}T(\alpha w + u) = \frac{Sw}{Tw}Tx.
    \end{equation*}
    Taking $c = Sw/Tw$ gives $S = cT$. 

    For (c), let $x_n\in\ker(T)$ be a sequence such that $x_n\to x\in\H$. 
    Since $T$ is continuous, 
    \begin{equation*}
        Tx = \lim_{n\to\infty} Tx_n = 0. 
    \end{equation*}
    Hence $x\in\ker(T)$ and $\ker(T)$ is closed.
\end{proof}

\begin{theorem}[Riesz Representation on $\H$]
    $\mathbb{F} = \R$ or $\C$. $T:\H\to\mathbb{F}$ is a bounded linear 
    functional. Then there exists a unique $x^*\in\H$ such that 
    $Ty = \inp{y}{x^*}$ for all $y\in\H$.
\end{theorem}
\begin{proof}
    If $T = 0$, pick $x^* = 0$ then $Ty = 0 = \inp{y}{0}$. If $T\neq 0$, 
    there is some $w\in\H$ such that $Tw\neq 0$. By 
    \cref{prop:bd_functional_on_h}, we can write $\H = \spanby(\set{w})\oplus\ker(T)$ 
    with $\ker(T)$ closed. Also, $\H = \ker(T)\oplus\ker(T)^{\perp}$ by 
    \cref{prop:orthogonal_complement}. We claim that $\ker(T)^{\perp} = \spanby(\set{w})$. 
    First note that $\ker(T)^{\perp}\neq \set{0}$ or we would have 
    $\H = \ker(T)$ and $T = 0$, contradicting to our assumption. Now if 
    $z_1,z_2\in\ker(T)^\perp$, write $z_1 = \alpha_1 w + u_1$ and 
    $z_2 = \alpha_2 w + u_2$ for some $\alpha_1,\alpha_2\in\mathbb{F}$ and 
    $u_1,u_2\in\ker(T)$. Then $\alpha_2z_1 - \alpha_1z_2 
    = \alpha_2u_1 - \alpha_1u_2\in\ker(T)$ and $\alpha_2z_1 - \alpha_1z_2
    \in\ker(T)^\perp$. Hence $\alpha_2z_1 - \alpha_1z_2 = 0$ and $z_1,z_2$ 
    are linearly dependent. Now define $S:\H\to\mathbb{F}$ by $Sx = \inp{x}{w}$. 
    Then $S$ is a bounded linear functional and $\ker(S) = \Set{x\in\H}{\inp{x}{w} = 0} 
    = (\ker(T)^\perp)^\perp = \ker(T)$ by \cref{prop:orthogonal_complement}. 
    Applying (b) of \cref{prop:bd_functional_on_h} gives $cS = T$ for some 
    $c\in\mathbb{F}$. Then $Tx = cSx = c\inp{x}{w} = \inp{x}{\overline{c}w}$. 
    Set $x^* = \overline{c}w$ proves the existence of $x^*$. 

    To see uniqueness, suppose $x_1^*,x_2^*\in\H$ are such that 
    $Ty = \inp{y}{x_1^*} = \inp{y}{x_2^*}$ for all $y\in\H$. Then 
    $\inp{y}{x_1^* - x_2^*} = 0$ for all $y\in\H$. Hence 
    $x_1^* - x_2^* = 0$ and $x_1^* = x_2^*$. Such $x^*$ is unique.
\end{proof}
\begin{remark}
    From the Riesz representation, we can see that $\H'\cong\H$ 
    and applying the Riesz representation theorem again gives 
    $\H''\cong\H$. Thus $\H$ is reflexive.
\end{remark}

\begin{definition}
    The \textbf{adjoint operator} of $T:\H\to\H$ is the operator 
    $T^*:\H\to\H$ such that $\inp{Tx}{y} = \inp{x}{T^*y}$ for all $x,y\in\H$.
\end{definition}
\begin{remark}
    $T:\H\to\H$ is a bounded linear operator. By the Riesz representation, 
    $\H' = \H$. Thus $T':\H'\to\H'$ is defined by $T':\ell\mapsto T'\ell = \ell T$. 
    $T^*:\H\to\H' = \H$ is defined by $T^*:x\mapsto T^*x = T'\ell y$. 
    For $x,y\in\H$, 
    \begin{equation*}
        \inp{Tx}{y} = \inp{x}{T^*y} = \ell_{T^*y}(x) = T'\ell_y(x) = \ell_y(Tx).
    \end{equation*}
\end{remark}

\begin{definition}
    Let $X,Y$ be vector spaces. $T:X\to Y$ is called \textbf{skew-linear} if 
    $T(cx + y) = \overline{c}Tx + Ty$ for all $x,y\in X$ and $c\in\mathbb{F}$.
\end{definition}

\begin{definition}
    $\mathbb{F} = \R$ or $\C$. $B:\H\times\H\to\mathbb{F}$ is called a 
    \textbf{bilinear form} if 
    \begin{thmenum}
        \item $B(\cdot,x)$ is linear for all $x\in\H$. 
        \item $B(x,\cdot)$ is skew-linear for all $x\in\H$.
    \end{thmenum}
\end{definition}

\begin{definition}
    A bilinear form $B:\H\times\H\to\mathbb{F}$ is called \textbf{bounded} if 
    there exists $C<\infty$ such that $\abs{B(x,y)}\leq C\norm{x}\norm{y}$ for 
    all $x,y\in\H$.
\end{definition}

\begin{definition}
    A bilinear form $B:\H\times\H\to\mathbb{F}$ is called \textbf{coercive} if 
    there exists $\delta>0$ such that $B(x,x)\geq \delta\norm{x}^2$ for all 
    $x\in\H$.
\end{definition}

\begin{theorem}[Lax-Milgram \rom{1}]
    Let $\mathbb{F} = \R$ or $\C$. $B:\H\times\H\to\mathbb{F}$ is a bounded 
    coercive bilinear form. Then for every $L\in\H'$, there exists $x\in\H$ 
    such that $Ly = B(y,x)$ for all $y\in\H$.
\end{theorem}
\begin{proof}
    Fixed $x\in\H$. Then $B(\cdot, x)$ is a bounded linear functional 
    defined on $\H$. By Riesz representation, there exists a unique 
    $x^*\in\H$ such that $B(y,x) = \inp{y}{x^*}$ for all $y\in\H$. 
    Define $T:\H\to\H$ by $Tx = x^*$. Such definition is well-defined 
    because $x^*$ is unique. We claim that $T$ is bounded and linear. 
    For linearity, let $x,y,z\in\H$ and $c\in\mathbb{F}$. Then 
    \begin{equation*}
        \inp{y}{T(cx + z)} = B(y, cx + z) = \overline{c}B(y,x) + B(y,z) 
        = \overline{c}\inp{y}{Tx} + \inp{y}{Tz} = \inp{y}{cTx + Tz}.
    \end{equation*}
    Hence $T(cx+z) = cTx+Tz$. For boundedness, by \cref{prop:inp_norm}, 
    \begin{equation*}
        \norm{Tx} = \sup_{\norm{y}=1}\abs{\inp{y}{Tx}} 
        = \sup_{\norm{y}=1}\abs{B(y,x)} \leq \sup_{\norm{y}=1} C\norm{x}\norm{y} 
        = C\norm{x}.
    \end{equation*}
    Hence $T$ is bounded. 

    Next, let $A = T(\H)$. We claim that $A$ is closed. Let $y_n\to y$ 
    and $y_n\in A$. By the boundedness of $T$ we have $\norm{Tx}\leq C\norm{x}$. 
    Also, by the coerciveness and \cref{prop:inp_norm},
    \begin{equation*}
        \delta\norm{x}^2 \leq B(x,x) \leq \abs{B(x,x)} 
        = \abs{\inp{x}{Tx}} = \norm{x}\abs{\inp{\frac{x}{\norm{x}}}{Tx}} 
        \leq \norm{x}\sup_{\norm{y} = 1} \abs{\inp{y}{Tx}} = \norm{x}\norm{Tx}.
    \end{equation*}
    So $\norm{x}\leq \frac{1}{\delta}\norm{Tx}$. Then we see that 
    the norms $\norm{\cdot}$ and $\norm{T(\cdot)}$ are equivalent. 
    For $y_n\in A$, we can find $x_n\in\H$ such that $Tx_n = y_n$. 
    Since $y_n$ is Cauchy, $x_n$ is also Cauchy by the equivalence 
    of norms. By the completeness of $\H$, $x_n\to x\in\H$. 
    Then the boundedness of $T$ implies the continuity and 
    $Tx_n\to Tx$. It follows that $y = Tx$ by the uniqueness of 
    the limit. Hence $y\in A$ and $A$ is closed. 

    Finally, we claim that $A = \H$. Assume not. Then because 
    $A$ is closed, $\H = A\oplus A^{\perp}$ with $A^\perp\neq\set{0}$ 
    by \cref{prop:orthogonal_complement}. There is some $z\in A$ 
    such that $\inp{z}{y} = 0$ for all $y\in A^\perp$. This implies 
    $B(z,x) = \inp{z}{Tx} = 0$ for all $x\in\H$. Taking $x = z$ 
    gives $0 = B(z,z) \geq \delta\norm{z}^2$ by the coerciveness of $B$. 
    Hence $z = 0$, $A^\perp = \set{0}$, and $A = \H$, a contradiction. 
    We conclude that $A = \H$. 

    For any bounded linear functional $L$, there is $x^*\in\H$ such that 
    $Ly = \inp{y}{x^*}$ for all $y\in\H$ by Riesz representation. 
    Then there is $x\in\H$ such that $Tx = x^*$. Then for all $y\in\H$, 
    \begin{equation*}
        Ly = \inp{y}{x^*} = \inp{y}{Tx} = B(y,x).
    \end{equation*}
    This completes the proof.
\end{proof}
\begin{remark}
    Lax-Milgram theorem ensures the existence of weak solutions to 
    linear PDEs. For example, consider the Poisson equation 
    \begin{equation*}
        -\Delta u = f \quad \text{on }\Omega\subset\R^d, \quad u\restrict{\partial\Omega} = 0
    \end{equation*}
    for $f\in\L^2(\Omega)$. $\Delta = \sum_{i=1}^{d}\partial_i^2$ is 
    the Laplacian. Then for all $\varphi\in C^\infty_c$, 
    \begin{equation*}
        L(\varphi) = B(u,\varphi) = \int_{\Omega} \nabla u\cdot\nabla\varphi = \int_{\Omega} f\varphi.
    \end{equation*} 
\end{remark}

\begin{definition}
    A bilinear form $B:\H\times\H\to\mathbb{F}$ is called \textbf{symmetric} 
    if $B(x,y) = B(y,x)$ for all $x,y\in\H$.
\end{definition}

\begin{theorem}[Lax-Milgram \rom{2}]\label{thm:lax_milgram_2}
    Let $\mathbb{F} = \R$ or $\C$. Suppose that $B:\H\times\H\to\mathbb{F}$ is 
    a bounded symmetric coercive bilinear form and $L\in\H'$ is a bounded 
    linear functional. Then 
    \begin{equation*}
        \inf_{x\in\H} \frac{1}{2}B(x,x) - Lx
    \end{equation*}
    is attained at a unique $x\in\H$.
\end{theorem}
\begin{proof}
    Set $F(x) = \frac{1}{2}B(x,x) - Lx$ and 
    \begin{equation*}
        \alpha = \inf_{x\in\mathcal{H}} F(x).
    \end{equation*}
    We check that $\alpha$ is finite. Notice that for all $x\in\H$,
    \begin{equation*}
        -M < \frac{1}{2}\delta\norm{x}^2 - \norm{L}\norm{x} 
        \leq \frac{1}{2}B(x,x) - \abs{Lx} \leq F(x) 
        \leq \abs{\frac{1}{2}B(x,x)-Lx} \leq \frac{1}{2}C\norm{x}^2 + \norm{L}\norm{x} < \infty
    \end{equation*}
    for some finite $M,C>0$ and $\delta>0$. The first inequality is due to 
    $\delta>0$ and the quadratic function is bounded below. Taking infimum 
    of $F(x)$ gives that $\alpha$ is finite. 

    Now by definition we can find $u_n\in\H$ such that $F(u_n)\to\alpha$. 
    We claim that $u_n$ is Cauchy. For all $n,m\in\N$, we have 
    \begin{equation*}
        \begin{split}
            F(u_m) + F(u_n) &= \frac{1}{2}B(u_m,u_m) - Lu_m + \frac{1}{2}B(u_n,u_n) - Lu_n \\
            &= 2\pth{B\pth{\frac{u_m}{2},\frac{u_m}{2}} + B\pth{\frac{u_n}{2},\frac{u_n}{2}}} - 2L\pth{\frac{u_m+u_n}{2}} \\
            &= 2\sbrc{\frac{1}{2}\pth{B\pth{\frac{u_m+u_n}{2},\frac{u_m+u_n}{2}} + B\pth{\frac{u_m-u_n}{2},\frac{u_m-u_n}{2}}} - L\pth{\frac{u_m+u_n}{2}}} \\ 
            &= 2F\pth{\frac{u_m+u_n}{2}} + B\pth{\frac{u_m-u_n}{2},\frac{u_m-u_n}{2}} 
            \geq 2\alpha + \frac{\delta}{4}\norm{u_m-u_n}^2.
        \end{split}
    \end{equation*}
    For arbitrary $\epsilon>0$, there is $N\in\N$ such that for all $m,n\geq N$, 
    $F(u_m),F(u_n)\leq \alpha + \epsilon$. Then
    \begin{equation*}
        2\alpha + \frac{\delta}{4}\norm{u_m-u_n}^2 \leq F(u_m) + F(u_n) \leq 2\alpha + 2\epsilon
        \implies \norm{u_m-u_n}^2 \leq \frac{8\epsilon}{\delta}.
    \end{equation*}
    Since $\epsilon$ is arbitrary, we obtain that $u_n$ is Cauchy. By the 
    completeness, $u_n\to u$ for some $u\in\H$. We check that $u$ is the 
    minimizer of $F$, i.e. $F(u) = \alpha$. Observe that if for $u_n\to u$ 
    and $v_n\to v$, we have $B(u_n,v_n)\to B(u,v)$ and $Lu_n\to Lu$. Indeed, 
    $Lu_n\to u$ by the boundedness and hence the continuity of $L$. Also, 
    \begin{equation*}
        \abs{B(u_n,v_n) - B(u,v)} \leq \abs{B(u_n-u,v_n)} + \abs{B(u,v_n-v)} 
        \leq C\norm{u_n-u}\norm{v_n} + C\norm{u}\norm{v_n-v} \to 0
    \end{equation*}
    since $u_n\to u$ as a Cauchy sequence must be bounded. This implies 
    \begin{equation*}
        F(u_n) = \frac{1}{2}B(u_n,u_n) - Lu_n \to \frac{1}{2}B(u,u) - Lu = F(u).
    \end{equation*}
    The uniqueness of the limit of $u_n$ ensures that the minimizer is unique.
\end{proof}

\begin{theorem}
    Let $\mathbb{F} = \R$ or $\C$. Suppose that $B:\H\times\H\to\mathbb{F}$ is 
    a bounded symmetric coercive bilinear form and $L\in\H'$ is a bounded 
    linear functional. $x_0\in\H$ is a minimizer of $F(x) = \frac{1}{2}B(x,x) - Lx$ 
    if and only if $B(x_0,y) = L(y)$ for all $y\in\H$.
\end{theorem}
\begin{proof}
    Suppose that $x_0$ is a solution to $B(x_0,y) = L(y)$ for all $y\in\H$. 
    Then for all $x\in\H$, 
    \begin{equation*}
        \begin{split}
            F(x_0 + x) - F(x_0) &= \frac{1}{2}B(x_0 + x, x_0 + x) - L(x_0 + x) - \frac{1}{2}B(x_0,x_0) + L(x_0) \\
            &= B(x_0,x) - L(x) + \frac{1}{2}B(x,x) \geq \frac{\delta}{2}\norm{x}^2\geq 0
        \end{split}
    \end{equation*}
    by the coerciveness of $B$. Hence $F(x_0)\leq F(x_0 + x)$ for all $x\in\H$ and 
    $x_0$ is a minimizer. 

    Conversely, suppose that $x_0$ minimizes $F$. For all $t\in\R$ and $y\in\H$, 
    consider the function $\phi(t) = F(x_0 + ty)$. Then since $x_0$ minimizes $F$, 
    $\phi'(t)\restrict{t=0} = 0$. We compute that 
    \begin{equation*}
        \begin{split}
            \phi(t) &= F(x_0 + ty) = \frac{1}{2}B(x_0 + ty, x_0 + ty) - L(x_0 + ty) \\
            &= \frac{1}{2}B(x_0,x_0) + tB(x_0,y) + \frac{1}{2}t^2B(y,y) - L(x_0) - tL(y).
        \end{split}
    \end{equation*}
    Differentiating gives 
    \begin{equation*}
        0 = \phi'(t)\restrict{t=0} = B(x_0,y) - L(y) + tB(y,y)\restrict{t=0} = B(x_0,y) - L(y)
    \end{equation*}
    for each given $y\in\H$. Hence $x_0$ satisfies $B(x_0,y) = L(y)$ for all $y\in\H$.
\end{proof}